---
layout: default
title: "W3C HTML Validator On Ubuntu 12.10"
date: 2012-10-17 16:30
author:
    name: Jon Cram
    url: http://webignition.net
---

<div class="section">
    <p>
        I recently upgraded all local development and CI systems from Ubuntu 12.04
        to Ubuntu 12.10.
    </p>
    <p>
        This killed the local installations of the W3C HTML validator. If the
        same happened to you, here's how to fix it.
    </p>
    <h2>The Problem</h2>
    <p>
        The package responsible for providing <code>/usr/share/xml/xhtml</code>
        was removed. This causes the W3C HTML validator to fail as it requires
        the above directory to be present in order to find various document type
        definitions.
    </p>
    <p>
        It gets a bit worse: the above directory isremoved when installing the <code>w3c-markup-validator</code> package.        
    </p>
    <h2>The Solution</h2>
    <p>
        We need to get <code>/usr/share/xml/xhtml</code>
        back, copy the files we need somewhere safe, reinstall the W3C HTML validator
        package and then copy the files we need back to where they should be.
    </p>
    <ol>
        <li>
            <p>Get <code>/usr/share/xml/xhtml</code> back:</p>
            <p><code>sudo apt-get install w3c-dtd-xhtml</code></p>
        </li>
        <li>
            <p>Copy the files we need somewhere safe:</p>
            <p><code>cp -R /usr/share/xml/xhtml /usr/share/xml/xhtml.bak</code></p>
        </li>        
        <li>
            <p>Reinstall the W3C HTML validator:</p>
            <p><code>sudo apt-get remove w3c-markup-validator</code></p>
            <p><code>sudo apt-get install w3c-markup-validator</code></p>
            <p>This will cause <code>/usr/share/xml/xhtml</code> to be removed!</p>
        </li>        
        <li>
            <p>Copy the files we need back to where they should be:</p>
            <p><code>cp -R /usr/share/xml/xhtml.bak /usr/share/xml/xhtml</code></p>
        </li>         
    </ol>
        
    <p>
        You should find your local installation of the W3C HTML validator now works
        under Ubuntu 12.10.
    </p>
        
</div>