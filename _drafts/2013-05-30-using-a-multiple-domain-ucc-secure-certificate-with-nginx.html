---
layout: default
title: "Using a Multiple-Domain (UCC) Secure Certificate With Nginx"
author:
    name: Jon Cram
    url: http://webignition.net
---

<div class="section">
    <h3>
        Introduction
    </h3>
    <p>
        I've just finished setting up all of the important Simply Testable web services
        to use SSL (or HTTPS if you prefer).
    </p>
    <p>
        This means that the following domains are now all being served over SSL:        
    </p>
    <ul class="linklist">
        <li><a href="https://simplytestable.com/">https://simplytestable.com/</a></li>
        <li><a href="https://www.simplytestable.com/">https://www.simplytestable.com/</a></li>
        <li><a href="https://gears.simplytestable.com/">https://gears.simplytestable.com/</a></li>
        <li><a href="https://api.simplytestable.com/">https://api.simplytestable.com/</a></li>
    </ul>
    <p>
        Sidenote: I couldn't secure help.simplytestable.com and blog.simplytestable.com
        as these static sites are hosted on <a href="http://pages.github.com/">GitHub Pages</a>
        which can't support SSL.
    </p>
    <p>
        Here's a quick run through of how I went about getting the secure certificate
        and then setting up Nginx to use it.
    </p>
    
</div>

<div class="section">
    <h3>
        Choosing the type of certificate to use
    </h3>
    <p>
        It's been a while since I bought a secure certificate. When I last did
        so there were two options to consider if you wanted to secure more than
        one hostname under the same domain:
    </p>
    <ul>
        <li>
            <p>for N hostnames, get N single-domain secure certificates</p>
        </li>        
        <li>
            <p>
                get a single wildcard secure certificate covering *.example.com
            </p>
        </li>
    </ul>
    <p>
        There's now a third option thanks to the the <a href="http://en.wikipedia.org/wiki/SubjectAltName">subject alternative name</a> extension
        to X.509.
    </p>    
    <p>
        This extension allows us to opt for a single secure certifcate that
        is valid for a collection of listed hostnames. This is called a unified
        communications certificate (UCC).
    </p>
    <p>
        From examining various secure certificate providers I noticed that a
        UCC secure certificate covering a small collection of domains is significantly
        cheaper than a wildcard certificate (and significantly significantly cheaper
        than multiple single-domain certificates).
    </p>
    <p>
        As I have just one primary domain and three subdomains to cover (that's
        four in total), I opted for a multiple-domain (UCC) secure certificate
        from GoDaddy as it supports up to five related domains.
    </p>
    
</div>

<div class="section">
    <h3>
        Installing
    </h3>
    <p>
        ?
    </p>

    
</div>

