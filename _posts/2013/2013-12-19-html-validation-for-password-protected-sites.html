---
layout: default
title: "HTML Validation For Password-Protected Sites"
author:
    name: Jon Cram
    url: https://github.com/webignition
---

<div class="section section-first">
    <p>
        I've been working for the past two or so weeks on adding the ability to
        run tests against password-protected sites.
    </p>
    <p>
        After quite a bit of behind-the-scenes work to store global test
        parameters and to make them available to the right places at the right
        time, I'm now happy to say that site-wide and single-URL HTML validation
        for password-protected sites is available!
   </p>
   <p>
       For those who don't want to read too much, here's a quick video
       demonstrating the testing of <a href="http://http-auth-02.simplytestable.com/">http://http-auth-02.simplytestable.com/</a>
       (username: example, password: password).
   </p>

   <p>
       Read on to find out what this means (and what it doesn't mean!) and how this lets
       you test now what you couldn't test before.
   </p>

   <iframe class="video" height="480" src="http://www.youtube-nocookie.com/embed/azb_eG1Emk8" style="border: none;width:100%;"></iframe>

</div>

<div class="section">
    <h3>What Can Be Tested (And What Cannot)</h3>

    <p>
        I mentioned that HTML validation now works for password-protected sites.
        I need to define what "password-protected" means so that you know what
        to expect.
    </p>

    <p>
        The short and very technical answer is that this covers HTTP authentication
        as specified in <a href="https://tools.ietf.org/html/rfc2617">RFC2617</a>,
        covering both <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">basic access</a>
        and <a href="https://en.wikipedia.org/wiki/Digest_access_authentication">digest access</a> authentication.
    </p>

    <p>
        You'll most commonly see these means of authentication in cases
        where your browser itself displays a username/password dialog box directly
        as opposed to the site you're visiting presenting a nicely-styled
        login form within a page.
    </p>

    <p>
        If you've ever edited a <code>.htaccess</code> file, and possibly generated a corresponding
        <code>.htpasswd</code> file, you've been using these means of authentication.
    </p>

    <p>
        I chose to go with supporting these authentication methods for a couple
        of reasons:
    </p>

    <ul>
        <li>
            <p>
                it's a standards-based approach that requires no special knowledge
                of the site or page being tested
            </p>
        </li>
        <li>
            <p>
                HTTP authentication is a common approach for temporarily limiting
                access to publicly-available staging sites (and where such sites
                can really benefit from thorough testing)
            </p>
        </li>
    </ul>

    <p>
        What this new feature covers: any page or site that uses standard HTTP
        authentication.
    </p>

    <p>
        What this new feature does not cover: any page or site that uses a
        custom login form.
    </p>

</div>

<div class="section">
    <h3>Starting a Test For a Password-Protected Site</h3>
    <p>
        Below the pre-existing options to select what to test are new options
        to provide authentication credentials, revealed by clicking 'set
        authentication options':
    </p>
    <img class="img-responsive" src="https://i.imgur.com/NXjwkAy.png">
    <p>
        Enter the required credentials and then you can start a new test as usual:
    </p>
    <img class="img-responsive" src="https://i.imgur.com/1loQ1Al.png">
    <p>
        You'll notice as you do this that all types of test apart from HTML
        validation are disabled.
        At present it is only HTML validation that works flawlessly with password-protected
        pages and sites.
    </p>
</div>

<div class="section" id="security">
    <h3>A Quick Note On Security</h3>

    <p>
        The short version: HTTP authentication credentials you provide
        for the testing of password-protected sites are intentionally not
        stored securely and are assumed not to provide access to sensitive
        information.
    </p>

    <p>
        As noted above, a common use case for HTTP authentication is to provide
        limited access to a publicly-accessible staging site. This is a common
        approach for people who develop websites and is precisely the audience
        we're looking to serve with this new feature.
    </p>

    <p>
        In such a situation, you put a straightforward authentication system
        in place to keep your soon-to-be-public but as yet unfinished work
        from being accessed by the general public.
    </p>

    <p>
        Such sites are  ephemeral in nature, contain information intended eventually for
        public consumption and which don't inherently hold any details
        that are intended to be kept private. You'd rather the username and password is not known to everyone but it
        really doesn't matter if people come to find them out.
    </p>

    <p>
        We assume HTTP authentication credentials provided to us as a means
        of allowing you to run automated tests against a password-protected site
        are not considered sensitive information.
    </p>

    <p>
        We need to store the credentials you enter to be able to
        access your password-protected site.
    </p>

    <p>
        Credentials you enter are stored indefinitely by the core application,
        that is the central hub of the Simply Testable system that manages
        tests, so that they can be passed on to the worker applications
        to carry out the actual testing and to allow you to easily re-test
        after applying changes.
    </p>

    <p>
        Credentials are stored temporarily by the worker applications whilst
        a specific test is being carried out. Once the worker has reported
        results back to the core application the credentials are deleted.
    </p>

    <p>
        Credentials are stored in plaintext offering no security should our
        system databases be accessed directly by a malicious third party.
    </p>

    <p>
        Credentials are made available to the browser on the test results
        page to facilitate re-testing. They will be available only to the
        current user. If you are not logged in, the credentials you entered
        can be accessed by anyone who views your test results (if you're not
        signed in, they're not really your results, they're public and belong
        to everyone).
    </p>

    <p>
        If you are testing against a public staging site that uses HTTP authentication
        and if you are comfortable relaying the credentials to a client via email you should
        already be aware of the fact that the credentials are not sensitive
        and can be discovered by a range of means independently of us.
    </p>

    <p>
        If you wish to significantly limit who can potentially access the
        credentials you supply you should <a href="https://gears.simplytestable.com/signup/">create a free account</a> and run tests
        only when <a href="https://gears.simplytestable.com/signin/">signed in</a>.
    </p>
</div>