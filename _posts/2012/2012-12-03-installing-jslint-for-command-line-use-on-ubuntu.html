---
layout: default
title: "Installing JSLint For Command Line Use On Ubuntu"
author:
    name: Jon Cram
    url: https://github.com/webignition
---

<div class="section">
    <h3>
        Preamble
    </h3>
    <p>
        In adding JavaScript static analysis in addition to HTML and CSS validation
        to the set of full-site tests you can run, I need to run JSLint from the
        command line.
    </p>
    <p>
        Since I need to do this on a number of Ubuntu servers, and since this may
        be of use to others running Ubuntu or Debian systems, here's how to do it.
    </p>
    <p>
        We're going to use the <a href="https://npmjs.org/package/jslint">jslint package for Node.js</a>
        because:
    </p>
    <ul>
        <li>
            <p>
                it produces predictable, easy-to-parse output, which is essential
                if you need to programmatically interpret what jslint tells us
            </p>
        </li>
        <li>
            <p>
                Node.js uses the V8 JavaScript engine which is used in Chrome; if
                it's good enough for Chrome, it's a good JavaScript engine
            </p>
        </li>
        <li>
            <p>
                Node.js is easy to install via apt-get
            </p>
        </li>
        <li>
            <p>
                node-jslint is available through the <a href="https://npmjs.org/">Node Package Manager</a>, making
                it easy to install
            </p>
        </li>
    </ul>
    <h3>
        Prerequisites: Installing Node.js and npm
    </h3>
    <p>
        First, install Node.js and the Node Package Manager (npm):
    </p>
    <p>
        <code>sudo apt-get install nodejs npm</code>
    </p>
    <p>
        Good, that was quick and easy.
    </p>
    <p>
        Note: if you're running Quantal (12.10) or later, the node binary is now at
        <code>/usr/bin/nodejs</code> instead of the previous (and more common) <code>/usr/bin/node</code>.
        A symlink can be useful: <code>sudo ln -s /usr/bin/nodejs /usr/bin/node</code>.
    </p>
    <h3>
        Installing the node-jslint package
    </h3>
    <p>
        It's most common to use NPM to install dependencies for a specific application
        and any packages will be installed relative to the directory you are in
        when running NPM.
    </p>
    <p>
        We need to pick a common location to install the node-jslint package so
        that it can be used by many test task workers.
    </p>
    <p>
        I've opted for <code>/usr/share/node-jslint</code>.
    </p>
    <p>
        <code>cd /usr/share/node-jslint &amp;&amp; sudo npm install jslint</code>
    </p>
    <p>
        That's everything installed. Let's now see how to use it.
    </p>
    <h3>
        Testing your installation: using node-jslint
    </h3>
    <p>
        Using nodejs-lint is straightforward: pass to node.js first the path to
        jslint.js and second the path to the file containing the JavaScript to lint.
    </p>
    <p>
        Let's see a full example:
    </p>
    <pre>
/usr/bin/node /usr/share/node-jslint/node_modules/jslint/bin/jslint.js /home/jon/www/gears.simplytestable.com/js/app.js

 #1 Unexpected '(space)'.
    application.progress.testController = function () { // Line 4, Pos 52
 #2 Missing 'use strict' statement.
    var latestTestData = {}; // Line 5, Pos 5
 #3 Unexpected '(space)'.
     // Line 6, Pos 1
 #4 Combine this with the previous 'var' statement.
    var setCompletionPercentValue = function () { // Line 7, Pos 9
 #5 '$' was used before it was defined.
    var completionPercentValue = $('#completion-percent-value'); // Line 8, Pos 38
 #6 Unexpected '(space)'.
     // Line 9, Pos 1
 #7 Stopping.  (4% scanned).
    // Line 52, Pos 14
    </pre>

    <p>
        There we go, the output from linting a local JS file.
    </p>

    <p>
        If the output is not quite as you expect, call node-jslint without passing the path to a
        JavaScript file to see the options you can use.
    </p>
    <p>
        And if, like us, you want to read in the lint output programmatically and
        take some action in a program based on the lint output, take a look
        at our open source <a href="https://github.com/webignition/node-jslint-output-parser">node-jslint output parser</a>.
    </p>
</div>